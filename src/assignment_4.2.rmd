---
title: "Targeting Kendra Horn in Renewable Energy Stance"
author: "Nikole Vannest, Cat Takata, Ethan Hoffman"
date: "1/27/2021"
output:
  pdf_document: default
  word_document: default
---
1. We chose the Go Solar/Ready for 100 campaign (we are against solar power).


2. Member of Congress: Rep. Kendra Horn (D) - Oklahoma District 5, 2018-2020
(Lost her seat in the 2020 Oklahoma General Election to Stephanie Bice (R))
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)

## Packages ----

library(dplyr) #for data wrangling
library(readxl) #for reading Excel file
library(tidyverse) #for dataframe functions
library(janitor) #for renaming variables
library(ggplot2) #for plotting
library(stringr) #for text manipulation
library(here)

`%nin%` = Negate(`%in%`)

## Reading data ----

#reading datasets:
#note: this will only work without changing the paths if you open the .Rproj file
data <- read.csv(here("data","congress_116_data.csv"))
metadata <- read.csv(here("data", "Combined_Metadata.csv"))
```

```{r, data carpentry}
#reordering metadata 'variable' to match variable order in 'data':
order <- match(names(data),metadata$variable)
metadata <- metadata[order,]

## Data filtering and visualization to examine electoral vulnerability ----

#selecting for vulnerable House members:
vulnerable <- data %>%
  filter(primary_percent < 0.6 | general_percent < 0.6)
```

```{r, exploratory graphs, include = FALSE}
## Data filtering and vizualization to examine vulnerability and opinion ----

#selecting Democrats vulnerable to primary challenges who are not strongest possible environmentalists:
vulnerableD <- data %>%
  filter(primary_percent < 0.6 & party == "D" & lcv_score<100)

#plotting the distribution of LCV scores vs. constituent support to address climate:
ggplot(vulnerableD, aes(x=lcv_score, 
                       y= congress)) + 
  geom_point() +
  geom_text(aes(label=district_id),
            hjust=0, vjust=0) +
  ggtitle("LCV Scores of vulnerable Dems compared to \nproportion of constituents that want more action from Congress")


```

```{r, Final visual}
# Subsetting data to focus on Oklahoma district 5 and select variables

library(reshape2)

Kendra <- vulnerableD %>% 
  filter(candidate_name == "Horn, Kendra",)

Kendra_melt <- Kendra %>% 
  mutate(general_percent = general_percent*100) %>% 
  select(general_percent, discussOppose, drilloffshore, mediaweeklyOppose, 
         timingOppose, priority) %>% 
  melt()

# Table showing data from Kendra df

#Bar plot showing constituent support for certain issues
ggplot(Kendra_melt, aes(x = value)) + 
  geom_col(aes(y = variable), fill = "red") +
  labs(y = c(), x = "Percent population",
       title = "Public Perception of Global \n Warming as a Threat") +
  scale_y_discrete(labels = c("Horn Win Margin", "GW not discussed", "Pro Offshore Drilling", "Lack of Media Attention", "Poor Timing", "Global Warming Important")) +
  theme_minimal()
  

```


3. Key Public Audience


4. Political Advertisement

The Reject Ready for 100 campaign will create television and print ads to reach its constituents, many of whom work in the oil and natural gas industry, and will be affected by Ready for 100 if it's implemented in Oklahoma.

**Political Ad:**
Oil and natural gas workers and their families are deeply concerned about Kendra Horn's support for Ready for 100, the clean energy campaign that will hurt Oklahoma's booming industries. Clean energy initiatives will affect our state's workers, their families, and their communities' livelihood by forcing oil and natural gas workers out of their jobs, and replacing them with new "clean" technology to mobilize a "clean energy revolution", putting many Oklahomans at risk of falling into poverty within the next decade and increasing customers' utility bills.

Tell Kendra Horn: Protect our Workers, Protect their Jobs, Reject Ready for 100.